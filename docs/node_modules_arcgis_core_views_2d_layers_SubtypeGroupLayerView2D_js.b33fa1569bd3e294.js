"use strict";var b=Object.defineProperty,v=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,E=(_,r,e)=>r in _?b(_,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[r]=e,y=(_,r)=>{for(var e in r||(r={}))m.call(r,e)&&E(_,e,r[e]);if(d)for(var e of d(r))j.call(r,e)&&E(_,e,r[e]);return _},c=(_,r)=>v(_,f(r));(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([["node_modules_arcgis_core_views_2d_layers_SubtypeGroupLayerView2D_js"],{65876:(_,r,e)=>{e.r(r),e.d(r,{default:()=>C});var h=e(17626),p=e(62208),u=e(32917),D=(e(63290),e(90912),e(85931),e(8314),e(82255),e(76898)),O=e(98624),P=e(1607);let o=class extends P.default{initialize(){this.handles.add([(0,u.YP)(()=>{var s;return null==(s=this.view)?void 0:s.viewpoint},()=>this._update(),u.nn)])}_injectOverrides(s){let t=super._injectOverrides(s);const i=this.view.scale,l=this.layer.sublayers.filter(n=>function M(s,t){return!s.visible||0!==s.minScale&&t>s.minScale||0!==s.maxScale&&t<s.maxScale}(n,i)).map(n=>n.subtypeCode);if(!l.length)return t;t=(0,p.pC)(t)?t:(new O.Z).toJSON();const a=`NOT ${this.layer.subtypeField} IN (${l.join(",")})`;return t.where=t.where?`(${t.where}) AND (${a})`:a,t}_setLayersForFeature(s){const t=this.layer.fieldsIndex.get(this.layer.subtypeField),i=s.attributes[t.name],l=this.layer.sublayers.find(a=>a.subtypeCode===i);s.layer=l,s.sourceLayer=this.layer}_createSchemaConfig(){const s={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map(a=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:a.labelingInfo,labelsVisible:a.labelsVisible,renderer:a.renderer,subtypeCode:a.subtypeCode,orderBy:null}))},t=this.layer.sublayers.map(a=>a.subtypeCode).join(",");let l=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return l+=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${t})`:"1=2",c(y(y({},super._createSchemaConfig()),s),{definitionExpression:l})}};o=(0,h._)([(0,D.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],o);const C=o}}]);
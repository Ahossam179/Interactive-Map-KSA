"use strict";var In=Object.defineProperty,xn=Object.defineProperties,gn=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Fn=Object.prototype.propertyIsEnumerable,Y=(z,x,f)=>x in z?In(z,x,{enumerable:!0,configurable:!0,writable:!0,value:f}):z[x]=f,L=(z,x)=>{for(var f in x||(x={}))zn.call(x,f)&&Y(z,f,x[f]);if(W)for(var f of W(x))Fn.call(x,f)&&Y(z,f,x[f]);return z},H=(z,x)=>xn(z,gn(x));(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([["node_modules_arcgis_core_smartMapping_statistics_support_statsWorker_js"],{44135:(z,x,f)=>{f.r(x),f.d(x,{classBreaks:()=>rn,heatmapStatistics:()=>fn,histogram:()=>un,summaryStatistics:()=>on,uniqueValues:()=>sn});var $=f(15861),Q=(f(29132),f(26584),f(62208)),J=f(23841),K=f(65234),X=f(7848),B=f(37053),G=(f(36630),f(36859)),F=f(63930),k=f(46679),q=f(49672);let E=null;function nn(i,t,l,o){const s=(0,B.MP)(l)?(0,B.C5)(l):null,m=s?Math.round((s.valid[1]-s.valid[0])/t.scale[0]):null;return i.map(p=>{const r=new q.Z((0,Q.Wg)(p.geometry));return(0,X.RF)(t,r,r,r.hasZ,r.hasM),p.geometry=s?function _(i,t,l){return i.x<0?i.x+=t:i.x>l&&(i.x-=t),i}(r,m,o[0]):r,p})}function en(i,t=18,l,o,s,m){const p=new Float64Array(s*m);t=Math.round((0,J.F2)(t));let r=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,c=0,h=0,y=0,v=0;const I=(0,G.wx)(o,l);for(const{geometry:T,attributes:M}of i){const{x:j,y:R}=T,dn=Math.max(0,j-t),mn=Math.max(0,R-t),cn=Math.min(m,R+t),pn=Math.min(s,j+t),vn=+I(M);for(let P=mn;P<cn;P++)for(let C=dn;C<pn;C++){const O=P*s+C,hn=(0,G.If)(C-j,P-R,t),yn=p[O];c=p[O]+=hn*vn;const A=c-yn;h+=A,y+=A*A,c<r&&(r=c),c>d&&(d=c),v++}}if(!v)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const g=(d-r)/2;return{mean:h/v,stdDev:Math.sqrt((y-h*h/v)/v),min:r,max:d,mid:g,count:v}}function N(i,t){return D.apply(this,arguments)}function D(){return(D=(0,$.Z)(function*(i,t){if(!t)return[];const l=i.field,o=i.valueExpression,s=i.normalizationType,m=i.normalizationField,p=i.normalizationTotal,r=[],d=i.viewInfoParams;let c=null,h=null;if(o){if(!E){const{arcadeUtils:I}=yield(0,k.LC)();E=I}c=E.createFunction(o),h=d&&E.getViewInfo({viewingMode:d.viewingMode,scale:d.scale,spatialReference:new K.Z(d.spatialReference)})}const y=i.fieldInfos,v=t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass||!y?null:{fields:y};return t.forEach(I=>{const g=I.attributes;let T;if(o){const M=v?H(L({},I),{layer:v}):I,j=E.createExecContext(M,h);T=E.executeFunction(c,j)}else g&&(T=g[l]);if(s&&isFinite(T)){const M=g&&parseFloat(g[m]);T=(0,F.fk)(T,s,M,p)}r.push(T)}),r})).apply(this,arguments)}function on(i){return U.apply(this,arguments)}function U(){return(U=(0,$.Z)(function*(i){const{attribute:t,features:l}=i,{normalizationType:o,normalizationField:s,minValue:m,maxValue:p,fieldType:r}=t,d=yield N({field:t.field,valueExpression:t.valueExpression,normalizationType:o,normalizationField:s,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},l),c=(0,F.S5)({normalizationType:o,normalizationField:s,minValue:m,maxValue:p}),h={value:.5,fieldType:r},y="esriFieldTypeString"===r?(0,F.H0)({values:d,supportsNullCount:c,percentileParams:h}):(0,F.i5)({values:d,minValue:m,maxValue:p,useSampleStdDev:!o,supportsNullCount:c,percentileParams:h});return(0,F.F_)(y,"esriFieldTypeDate"===r)})).apply(this,arguments)}function sn(i){return S.apply(this,arguments)}function S(){return(S=(0,$.Z)(function*(i){const{attribute:t,features:l}=i,o=yield N({field:t.field,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},l),s=(0,F.eT)(o);return(0,F.Qm)(s,t.domain,t.returnAllCodedValues)})).apply(this,arguments)}function rn(i){return Z.apply(this,arguments)}function Z(){return(Z=(0,$.Z)(function*(i){const{attribute:t,features:l}=i,{field:o,normalizationType:s,normalizationField:m,normalizationTotal:p,classificationMethod:r}=t,d=yield N({field:o,valueExpression:t.valueExpression,normalizationType:s,normalizationField:m,normalizationTotal:p,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},l),c=(0,F.G2)(d,{field:o,normalizationType:s,normalizationField:m,normalizationTotal:p,classificationMethod:r,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return(0,F.DL)(c,r)})).apply(this,arguments)}function un(i){return b.apply(this,arguments)}function b(){return(b=(0,$.Z)(function*(i){const{attribute:t,features:l}=i,{field:o,normalizationType:s,normalizationField:m,normalizationTotal:p,classificationMethod:r}=t,d=yield N({field:o,valueExpression:t.valueExpression,normalizationType:s,normalizationField:m,normalizationTotal:p,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},l);return(0,F.oF)(d,{field:o,normalizationType:s,normalizationField:m,normalizationTotal:p,classificationMethod:r,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})})).apply(this,arguments)}function fn(i){return w.apply(this,arguments)}function w(){return(w=(0,$.Z)(function*(i){const{attribute:t,features:l}=i,{field:o,radius:s,fieldOffset:m,transform:p,spatialReference:r,size:d}=t,c=nn(l,p,r,d),{count:h,min:y,max:v,mean:I,stdDev:g}=en(c,s,m,o,d[0],d[1]);return{count:h,min:y,max:v,avg:I,stddev:g}})).apply(this,arguments)}}}]);
"use strict";var b=Object.defineProperty,v=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,E=(l,t,e)=>t in l?b(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e,y=(l,t)=>{for(var e in t||(t={}))m.call(t,e)&&E(l,e,t[e]);if(d)for(var e of d(t))j.call(t,e)&&E(l,e,t[e]);return l},h=(l,t)=>v(l,f(t));(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[5876],{65876:(l,t,e)=>{e.r(t),e.d(t,{default:()=>C});var c=e(17626),D=e(62208),u=e(32917),O=(e(63290),e(90912),e(85931),e(8314),e(82255),e(76898)),p=e(98624),P=e(1607);let n=class extends P.default{initialize(){this.handles.add([(0,u.YP)(()=>{var s;return null==(s=this.view)?void 0:s.viewpoint},()=>this._update(),u.nn)])}_injectOverrides(s){let r=super._injectOverrides(s);const _=this.view.scale,i=this.layer.sublayers.filter(o=>function M(s,r){return!s.visible||0!==s.minScale&&r>s.minScale||0!==s.maxScale&&r<s.maxScale}(o,_)).map(o=>o.subtypeCode);if(!i.length)return r;r=(0,D.pC)(r)?r:(new p.Z).toJSON();const a=`NOT ${this.layer.subtypeField} IN (${i.join(",")})`;return r.where=r.where?`(${r.where}) AND (${a})`:a,r}_setLayersForFeature(s){const r=this.layer.fieldsIndex.get(this.layer.subtypeField),_=s.attributes[r.name],i=this.layer.sublayers.find(a=>a.subtypeCode===_);s.layer=i,s.sourceLayer=this.layer}_createSchemaConfig(){const s={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map(a=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:a.labelingInfo,labelsVisible:a.labelsVisible,renderer:a.renderer,subtypeCode:a.subtypeCode,orderBy:null}))},r=this.layer.sublayers.map(a=>a.subtypeCode).join(",");let i=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return i+=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${r})`:"1=2",h(y(y({},super._createSchemaConfig()),s),{definitionExpression:i})}};n=(0,c._)([(0,O.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],n);const C=n}}]);
"use strict";var H=Object.defineProperty,J=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,V=(f,y,e)=>y in f?H(f,y,{enumerable:!0,configurable:!0,writable:!0,value:e}):f[y]=e,x=(f,y)=>{for(var e in y||(y={}))Q.call(y,e)&&V(f,e,y[e]);if(G)for(var e of G(y))X.call(y,e)&&V(f,e,y[e]);return f},$=(f,y)=>J(f,Y(y));(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([["default-node_modules_arcgis_core_portal_support_portalLayers_js","node_modules_arcgis_core_layers_support_lazyLayerLoader_js","node_modules_arcgis_core_portal_support_layersLoader_js"],{30164:(f,y,e)=>{e.d(y,{T:()=>L});var s=e(15861);const L={BingMapsLayer:(n=(0,s.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_BingMapsLayer_js").then(e.bind(e,72248))).default}),function(){return n.apply(this,arguments)}),BuildingSceneLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_BuildingSceneLayer_js")]).then(e.bind(e,19319))).default});return function(){return n.apply(this,arguments)}}(),CSVLayer:function(){var n=(0,s.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_CSVLayer_js").then(e.bind(e,85625))).default});return function(){return n.apply(this,arguments)}}(),ElevationLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_ElevationLayer_js")]).then(e.bind(e,25227))).default});return function(){return n.apply(this,arguments)}}(),FeatureLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.resolve().then(e.bind(e,32258))).default});return function(){return n.apply(this,arguments)}}(),GroupLayer:function(){var n=(0,s.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_GroupLayer_js").then(e.bind(e,25964))).default});return function(){return n.apply(this,arguments)}}(),GeoRSSLayer:function(){var n=(0,s.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_GeoRSSLayer_js").then(e.bind(e,96306))).default});return function(){return n.apply(this,arguments)}}(),GeoJSONLayer:function(){var n=(0,s.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_GeoJSONLayer_js").then(e.bind(e,72903))).default});return function(){return n.apply(this,arguments)}}(),ImageryLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_pixelUtils_js"),e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_vectorFieldUtils_js-node_modu-8bb3a8"),e.e("default-node_modules_arcgis_core_layers_support_rasterFormats_RasterCodec_js-node_modules_arc-fe02d7"),e.e("default-node_modules_arcgis_core_layers_support_RasterJobHandler_js-node_modules_arcgis_core_-223bcd"),e.e("node_modules_arcgis_core_layers_ImageryLayer_js")]).then(e.bind(e,49602))).default});return function(){return n.apply(this,arguments)}}(),ImageryTileLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_pixelUtils_js"),e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_vectorFieldUtils_js-node_modu-8bb3a8"),e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_rasterProjectionHelper_js"),e.e("default-node_modules_arcgis_core_layers_support_rasterFormats_RasterCodec_js-node_modules_arc-fe02d7"),e.e("default-node_modules_arcgis_core_layers_support_RasterJobHandler_js-node_modules_arcgis_core_-223bcd"),e.e("common"),e.e("node_modules_arcgis_core_layers_ImageryTileLayer_js")]).then(e.bind(e,23490))).default});return function(){return n.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_IntegratedMeshLayer_js")]).then(e.bind(e,31370))).default});return function(){return n.apply(this,arguments)}}(),KMLLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_KMLLayer_js")]).then(e.bind(e,38411))).default});return function(){return n.apply(this,arguments)}}(),LineOfSightLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_LineOfSightLayer_js")]).then(e.bind(e,4421))).default});return function(){return n.apply(this,arguments)}}(),MapImageLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_ArcGISMapService_js-node_modules_arcgis_core_l-f486c2"),e.e("common"),e.e("node_modules_arcgis_core_layers_MapImageLayer_js-node_modules_arcgis_core_layers_support_floo-009052")]).then(e.bind(e,48887))).default});return function(){return n.apply(this,arguments)}}(),MapNotesLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_MapNotesLayer_js")]).then(e.bind(e,19859))).default});return function(){return n.apply(this,arguments)}}(),OGCFeatureLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_ogc_ogcFeatureUtils_js"),e.e("node_modules_arcgis_core_layers_OGCFeatureLayer_js-node_modules_arcgis_core_layers_graphics_d-2e45bd")]).then(e.bind(e,36554))).default});return function(){return n.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_OpenStreetMapLayer_js")]).then(e.bind(e,71591))).default});return function(){return n.apply(this,arguments)}}(),PointCloudLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_PointCloudLayer_js")]).then(e.bind(e,7155))).default});return function(){return n.apply(this,arguments)}}(),RouteLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_rest_support_DirectionLine_js-node_modules_arcgis_core_rest_-21d156"),e.e("node_modules_arcgis_core_layers_RouteLayer_js")]).then(e.bind(e,68664))).default});return function(){return n.apply(this,arguments)}}(),SceneLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_SceneLayer_js")]).then(e.bind(e,27559))).default});return function(){return n.apply(this,arguments)}}(),StreamLayer:function(){var n=(0,s.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_StreamLayer_js").then(e.bind(e,70289))).default});return function(){return n.apply(this,arguments)}}(),TileLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_ArcGISMapService_js-node_modules_arcgis_core_l-f486c2"),e.e("common"),e.e("node_modules_arcgis_core_layers_TileLayer_js")]).then(e.bind(e,59735))).default});return function(){return n.apply(this,arguments)}}(),UnknownLayer:function(){var n=(0,s.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_UnknownLayer_js").then(e.bind(e,56339))).default});return function(){return n.apply(this,arguments)}}(),UnsupportedLayer:function(){var n=(0,s.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_UnsupportedLayer_js").then(e.bind(e,16240))).default});return function(){return n.apply(this,arguments)}}(),VectorTileLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_views_2d_engine_vectorTiles_style_StyleRepository_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_VectorTileLayer_js-node_modules_arcgis_core_views_2d_engine_v-e60b30")]).then(e.bind(e,14836))).default});return function(){return n.apply(this,arguments)}}(),VoxelLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("node_modules_arcgis_core_layers_VoxelLayer_js")]).then(e.bind(e,68115))).default});return function(){return n.apply(this,arguments)}}(),WebTileLayer:function(){var n=(0,s.Z)(function*(){return(yield e.e("common").then(e.bind(e,28678))).default});return function(){return n.apply(this,arguments)}}(),WFSLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_ogc_wfsUtils_js"),e.e("node_modules_arcgis_core_layers_WFSLayer_js")]).then(e.bind(e,98762))).default});return function(){return n.apply(this,arguments)}}(),WMSLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_WMSLayer_js")]).then(e.bind(e,46894))).default});return function(){return n.apply(this,arguments)}}(),WMTSLayer:function(){var n=(0,s.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_WMTSLayer_js")]).then(e.bind(e,64223))).default});return function(){return n.apply(this,arguments)}}()};var n},88755:(f,y,e)=>{e.d(y,{Y:()=>u,h:()=>n});var s=e(21726),L=e(84687);function n(m){return{origin:"portal-item",url:(0,s.mN)(m.itemUrl),portal:m.portal||L.Z.getDefault(),portalItem:m,readResourcePaths:[]}}function u(m){return{origin:"portal-item",messages:[],writtenProperties:[],url:m.itemUrl?(0,s.mN)(m.itemUrl):null,portal:m.portal||L.Z.getDefault(),portalItem:m}}},83705:(f,y,e)=>{e.r(y),e.d(y,{getFirstLayerOrTableId:()=>C,getNumLayersAndTables:()=>M,load:()=>W,preprocessFSItemData:()=>S});var s=e(15861),L=e(26584),n=e(30164),u=e(84687),m=e(88755),v=e(39683),p=e(45205);function W(r,i){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(r,i){const a=r.instance.portalItem;if(a&&a.id)return yield a.load(i),O(r),U(r,i)})).apply(this,arguments)}function O(r){const i=r.instance.portalItem;if(!r.supportedTypes.includes(i.type))throw new L.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:i.type,expectedType:r.supportedTypes.join(", ")})}function U(r,i){return P.apply(this,arguments)}function P(){return(P=(0,s.Z)(function*(r,i){const a=r.instance,d=a.portalItem,{url:l,title:t}=d,o=(0,m.h)(d);if("group"===a.type)return a.read({title:t},o),F(a,r);l&&a.read({url:l},o);const c=yield Z(r,i);return c&&a.read(c,o),a.resourceReferences={portalItem:d,paths:o.readResourcePaths},a.read({title:t},o),(0,v.y)(a,o)})).apply(this,arguments)}function F(r,i){let a;const d=r.portalItem.type;switch(d){case"Feature Service":case"Feature Collection":a=n.T.FeatureLayer;break;case"Stream Service":a=n.T.StreamLayer;break;case"Scene Service":a=n.T.SceneLayer;break;default:throw new L.Z("portal:unsupported-item-type-as-group",`The item type '${d}' is not supported as a 'IGroupLayer'`)}let l;return a().then(t=>(l=t,Z(i))).then(function(){var t=(0,s.Z)(function*(o){return"Feature Service"===d?(o=yield S(o,r.portalItem.url),T(r,l,o)):M(o)>0?T(r,l,o):function R(r,i){return r.portalItem.url?(0,p.b)(r.portalItem.url).then(a=>{var l,t;function d(o){return{id:o.id,name:o.name}}a&&T(r,i,{layers:null==(l=a.layers)?void 0:l.map(d),tables:null==(t=a.tables)?void 0:t.map(d)})}):Promise.resolve()}(r,l)});return function(o){return t.apply(this,arguments)}}())}function T(r,i,a){let d=a.layers||[];const l=a.tables||[];"Feature Collection"===r.portalItem.type&&(d.forEach(t=>{var o;"Table"===(null==(o=null==t?void 0:t.layerDefinition)?void 0:o.type)&&l.push(t)}),d=d.filter(t=>{var o;return"Table"!==(null==(o=null==t?void 0:t.layerDefinition)?void 0:o.type)})),d.reverse().forEach(t=>{const o=I(r,i,a,t);r.add(o)}),l.reverse().forEach(t=>{const o=I(r,i,a,t);r.tables.add(o)})}function I(r,i,a,d){const l=new i({portalItem:r.portalItem.clone(),layerId:d.id,sublayerTitleMode:"service-name"});if("Feature Collection"===r.portalItem.type){const t={origin:"portal-item",portal:r.portalItem.portal||u.Z.getDefault()};l.read(d,t);const o=a.showLegend;null!=o&&l.read({showLegend:o},t)}return l}function Z(r,i){if(!1===r.supportsData)return Promise.resolve(void 0);const a=r.instance;return a.portalItem.fetchData("json",i).catch(()=>null).then(function(){var d=(0,s.Z)(function*(l){if(function B(r){return"stream"!==r.type&&"layerId"in r}(a)){let t,o=!0;return l&&M(l)>0&&(null==a.layerId&&(a.layerId=C(l)),t=function A(r,i){const a=r.layers;if(a)for(let l=0;l<a.length;l++)if(a[l].id===i)return a[l];const d=r.tables;if(d)for(let l=0;l<d.length;l++)if(d[l].id===i)return d[l];return null}(l,a.layerId),t&&(1===M(l)&&(o=!1),null!=l.showLegend&&(t.showLegend=l.showLegend))),o&&"service-name"!==a.sublayerTitleMode&&(a.sublayerTitleMode="item-title-and-service-name"),t}return l});return function(l){return d.apply(this,arguments)}}())}function S(r,i){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(r,i){if(null==(null==r?void 0:r.layers)||null==(null==r?void 0:r.tables)){const a=yield(0,p.b)(i);(r=r||{}).layers=r.layers||(null==a?void 0:a.layers),r.tables=r.tables||(null==a?void 0:a.tables)}return r})).apply(this,arguments)}function C(r){const i=r.layers;if(i&&i.length)return i[0].id;const a=r.tables;return a&&a.length?a[0].id:null}function M(r){var i,a,d,l;return(null!=(a=null==(i=null==r?void 0:r.layers)?void 0:i.length)?a:0)+(null!=(l=null==(d=null==r?void 0:r.tables)?void 0:d.length)?l:0)}},7534:(f,y,e)=>{e.r(y),e.d(y,{fromItem:()=>W,selectLayerClassPath:()=>O});var s=e(15861),L=e(26584),n=e(30164),u=e(55463),m=e(83705),v=e(37281),p=e(45205);function W(t){return!t.portalItem||t.portalItem instanceof u.default||(t=$(x({},t),{portalItem:new u.default(t.portalItem)})),function j(t){return t.load().then(O).then(U)}(t.portalItem).then(o=>{const c=x({portalItem:t.portalItem},o.properties);return new o.constructor(c)})}function O(t){switch(t.type){case"Map Service":return function P(t){return function a(t){return(0,p.b)(t.url).then(o=>o.tileInfo)}(t).then(o=>o?{className:"TileLayer"}:{className:"MapImageLayer"})}(t);case"Feature Service":return function F(t){return d(t).then(o=>{if("object"==typeof o){const c={};return null!=o.id&&(c.layerId=o.id),{className:"FeatureLayer",properties:c}}return{className:"GroupLayer"}})}(t);case"Feature Collection":return function T(t){return I.apply(this,arguments)}(t);case"Scene Service":return function R(t){return d(t).then(o=>{if("object"==typeof o){const c={};let N;if(null!=o.id?(c.layerId=o.id,N=`${t.url}/layers/${o.id}`):N=t.url,Array.isArray(t.typeKeywords)&&t.typeKeywords.length>0){const g={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const h of Object.keys(g))if(t.typeKeywords.includes(h))return{className:g[h]}}return(0,p.b)(N).then(g=>{let h="SceneLayer";const D={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return g&&g.layerType&&D[g.layerType]&&(h=D[g.layerType]),{className:h,properties:c}})}return!1===o?(0,p.b)(t.url).then(c=>"Voxel"===(null==c?void 0:c.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"}):{className:"GroupLayer"}})}(t);case"Image Service":return function Z(t){return S.apply(this,arguments)}(t);case"Stream Service":case"Feed":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WFS":return{className:"WFSLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new L.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:t.type}))}}function U(t){return(0,n.T[t.className])().then(o=>({constructor:o,properties:t.properties}))}function I(){return(I=(0,s.Z)(function*(t){if(yield t.load(),(0,v._$)(t,"Map Notes"))return{className:"MapNotesLayer"};if((0,v._$)(t,"Route Layer"))return{className:"RouteLayer"};const o=yield t.fetchData();return 1===(0,m.getNumLayersAndTables)(o)?{className:"FeatureLayer"}:{className:"GroupLayer"}})).apply(this,arguments)}function S(){return(S=(0,s.Z)(function*(t){var g,h,D,K;yield t.load();const o=null!=(h=null==(g=t.typeKeywords)?void 0:g.map(z=>z.toLowerCase()))?h:[];if(o.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(o.includes("tiled imagery"))return{className:"ImageryTileLayer"};const c=null==(D=yield t.fetchData())?void 0:D.layerType;return"ArcGISTiledImageServiceLayer"===c?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===c?{className:"ImageryLayer"}:"map"===(null==(K=(yield(0,p.b)(t.url)).cacheType)?void 0:K.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}})).apply(this,arguments)}function d(t){return!t.url||t.url.match(/\/\d+$/)?Promise.resolve({}):t.load().then(()=>t.fetchData()).then(function(){var o=(0,s.Z)(function*(c){return"Feature Service"===t.type?l(c=yield(0,m.preprocessFSItemData)(c,t.url)):(0,m.getNumLayersAndTables)(c)>0?l(c):(0,p.b)(t.url).then(l)});return function(c){return o.apply(this,arguments)}}())}function l(t){return 1===(0,m.getNumLayersAndTables)(t)&&{id:(0,m.getFirstLayerOrTableId)(t)}}},45205:(f,y,e)=>{e.d(y,{b:()=>n});var s=e(15861),L=e(84792);function n(m){return u.apply(this,arguments)}function u(){return(u=(0,s.Z)(function*(m){const{data:v}=yield(0,L.default)(m,{responseType:"json",query:{f:"json"}});return v})).apply(this,arguments)}}}]);
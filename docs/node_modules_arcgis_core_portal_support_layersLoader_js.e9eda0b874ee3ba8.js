"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([["node_modules_arcgis_core_portal_support_layersLoader_js","node_modules_arcgis_core_layers_support_lazyLayerLoader_js"],{30164:(g,m,e)=>{e.d(m,{T:()=>f});var o=e(15861);const f={BingMapsLayer:(n=(0,o.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_BingMapsLayer_js").then(e.bind(e,72248))).default}),function(){return n.apply(this,arguments)}),BuildingSceneLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_BuildingSceneLayer_js")]).then(e.bind(e,19319))).default});return function(){return n.apply(this,arguments)}}(),CSVLayer:function(){var n=(0,o.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_CSVLayer_js").then(e.bind(e,85625))).default});return function(){return n.apply(this,arguments)}}(),ElevationLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_ElevationLayer_js")]).then(e.bind(e,25227))).default});return function(){return n.apply(this,arguments)}}(),FeatureLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.resolve().then(e.bind(e,32258))).default});return function(){return n.apply(this,arguments)}}(),GroupLayer:function(){var n=(0,o.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_GroupLayer_js").then(e.bind(e,25964))).default});return function(){return n.apply(this,arguments)}}(),GeoRSSLayer:function(){var n=(0,o.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_GeoRSSLayer_js").then(e.bind(e,96306))).default});return function(){return n.apply(this,arguments)}}(),GeoJSONLayer:function(){var n=(0,o.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_GeoJSONLayer_js").then(e.bind(e,72903))).default});return function(){return n.apply(this,arguments)}}(),ImageryLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_pixelUtils_js"),e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_vectorFieldUtils_js-node_modu-8bb3a8"),e.e("default-node_modules_arcgis_core_layers_support_rasterFormats_RasterCodec_js-node_modules_arc-fe02d7"),e.e("default-node_modules_arcgis_core_layers_support_RasterJobHandler_js-node_modules_arcgis_core_-223bcd"),e.e("node_modules_arcgis_core_layers_ImageryLayer_js")]).then(e.bind(e,49602))).default});return function(){return n.apply(this,arguments)}}(),ImageryTileLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_pixelUtils_js"),e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_vectorFieldUtils_js-node_modu-8bb3a8"),e.e("default-node_modules_arcgis_core_layers_support_rasterFunctions_rasterProjectionHelper_js"),e.e("default-node_modules_arcgis_core_layers_support_rasterFormats_RasterCodec_js-node_modules_arc-fe02d7"),e.e("default-node_modules_arcgis_core_layers_support_RasterJobHandler_js-node_modules_arcgis_core_-223bcd"),e.e("common"),e.e("node_modules_arcgis_core_layers_ImageryTileLayer_js")]).then(e.bind(e,23490))).default});return function(){return n.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_IntegratedMeshLayer_js")]).then(e.bind(e,31370))).default});return function(){return n.apply(this,arguments)}}(),KMLLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_KMLLayer_js")]).then(e.bind(e,38411))).default});return function(){return n.apply(this,arguments)}}(),LineOfSightLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_LineOfSightLayer_js")]).then(e.bind(e,4421))).default});return function(){return n.apply(this,arguments)}}(),MapImageLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_ArcGISMapService_js-node_modules_arcgis_core_l-f486c2"),e.e("common"),e.e("node_modules_arcgis_core_layers_MapImageLayer_js-node_modules_arcgis_core_layers_support_floo-009052")]).then(e.bind(e,48887))).default});return function(){return n.apply(this,arguments)}}(),MapNotesLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_MapNotesLayer_js")]).then(e.bind(e,19859))).default});return function(){return n.apply(this,arguments)}}(),OGCFeatureLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_ogc_ogcFeatureUtils_js"),e.e("node_modules_arcgis_core_layers_OGCFeatureLayer_js-node_modules_arcgis_core_layers_graphics_d-2e45bd")]).then(e.bind(e,36554))).default});return function(){return n.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_OpenStreetMapLayer_js")]).then(e.bind(e,71591))).default});return function(){return n.apply(this,arguments)}}(),PointCloudLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_PointCloudLayer_js")]).then(e.bind(e,7155))).default});return function(){return n.apply(this,arguments)}}(),RouteLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_rest_support_DirectionLine_js-node_modules_arcgis_core_rest_-21d156"),e.e("node_modules_arcgis_core_layers_RouteLayer_js")]).then(e.bind(e,68664))).default});return function(){return n.apply(this,arguments)}}(),SceneLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_SceneLayer_js")]).then(e.bind(e,27559))).default});return function(){return n.apply(this,arguments)}}(),StreamLayer:function(){var n=(0,o.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_StreamLayer_js").then(e.bind(e,70289))).default});return function(){return n.apply(this,arguments)}}(),TileLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_ArcGISMapService_js-node_modules_arcgis_core_l-f486c2"),e.e("common"),e.e("node_modules_arcgis_core_layers_TileLayer_js")]).then(e.bind(e,59735))).default});return function(){return n.apply(this,arguments)}}(),UnknownLayer:function(){var n=(0,o.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_UnknownLayer_js").then(e.bind(e,56339))).default});return function(){return n.apply(this,arguments)}}(),UnsupportedLayer:function(){var n=(0,o.Z)(function*(){return(yield e.e("node_modules_arcgis_core_layers_UnsupportedLayer_js").then(e.bind(e,16240))).default});return function(){return n.apply(this,arguments)}}(),VectorTileLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_views_2d_engine_vectorTiles_style_StyleRepository_js"),e.e("common"),e.e("node_modules_arcgis_core_layers_VectorTileLayer_js-node_modules_arcgis_core_views_2d_engine_v-e60b30")]).then(e.bind(e,14836))).default});return function(){return n.apply(this,arguments)}}(),VoxelLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_mixins_SceneService_js"),e.e("node_modules_arcgis_core_layers_VoxelLayer_js")]).then(e.bind(e,68115))).default});return function(){return n.apply(this,arguments)}}(),WebTileLayer:function(){var n=(0,o.Z)(function*(){return(yield e.e("common").then(e.bind(e,28678))).default});return function(){return n.apply(this,arguments)}}(),WFSLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("default-node_modules_arcgis_core_layers_ogc_wfsUtils_js"),e.e("node_modules_arcgis_core_layers_WFSLayer_js")]).then(e.bind(e,98762))).default});return function(){return n.apply(this,arguments)}}(),WMSLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_WMSLayer_js")]).then(e.bind(e,46894))).default});return function(){return n.apply(this,arguments)}}(),WMTSLayer:function(){var n=(0,o.Z)(function*(){return(yield Promise.all([e.e("common"),e.e("node_modules_arcgis_core_layers_WMTSLayer_js")]).then(e.bind(e,64223))).default});return function(){return n.apply(this,arguments)}}()};var n},88755:(g,m,e)=>{e.d(m,{Y:()=>a,h:()=>n});var o=e(21726),f=e(84687);function n(y){return{origin:"portal-item",url:(0,o.mN)(y.itemUrl),portal:y.portal||f.Z.getDefault(),portalItem:y,readResourcePaths:[]}}function a(y){return{origin:"portal-item",messages:[],writtenProperties:[],url:y.itemUrl?(0,o.mN)(y.itemUrl):null,portal:y.portal||f.Z.getDefault(),portalItem:y}}},83705:(g,m,e)=>{e.r(m),e.d(m,{getFirstLayerOrTableId:()=>T,getNumLayersAndTables:()=>c,load:()=>D,preprocessFSItemData:()=>M});var o=e(15861),f=e(26584),n=e(30164),a=e(84687),y=e(88755),L=e(39683),I=e(45205);function D(t,l){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(function*(t,l){const r=t.instance.portalItem;if(r&&r.id)return yield r.load(l),Z(t),O(t,l)})).apply(this,arguments)}function Z(t){const l=t.instance.portalItem;if(!t.supportedTypes.includes(l.type))throw new f.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:l.type,expectedType:t.supportedTypes.join(", ")})}function O(t,l){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(function*(t,l){const r=t.instance,i=r.portalItem,{url:s,title:d}=i,u=(0,y.h)(i);if("group"===r.type)return r.read({title:d},u),C(r,t);s&&r.read({url:s},u);const E=yield P(t,l);return E&&r.read(E,u),r.resourceReferences={portalItem:i,paths:u.readResourcePaths},r.read({title:d},u),(0,L.y)(r,u)})).apply(this,arguments)}function C(t,l){let r;const i=t.portalItem.type;switch(i){case"Feature Service":case"Feature Collection":r=n.T.FeatureLayer;break;case"Stream Service":r=n.T.StreamLayer;break;case"Scene Service":r=n.T.SceneLayer;break;default:throw new f.Z("portal:unsupported-item-type-as-group",`The item type '${i}' is not supported as a 'IGroupLayer'`)}let s;return r().then(d=>(s=d,P(l))).then(function(){var d=(0,o.Z)(function*(u){return"Feature Service"===i?(u=yield M(u,t.portalItem.url),v(t,s,u)):c(u)>0?v(t,s,u):function U(t,l){return t.portalItem.url?(0,I.b)(t.portalItem.url).then(r=>{var s,d;function i(u){return{id:u.id,name:u.name}}r&&v(t,l,{layers:null==(s=r.layers)?void 0:s.map(i),tables:null==(d=r.tables)?void 0:d.map(i)})}):Promise.resolve()}(t,s)});return function(u){return d.apply(this,arguments)}}())}function v(t,l,r){let i=r.layers||[];const s=r.tables||[];"Feature Collection"===t.portalItem.type&&(i.forEach(d=>{var u;"Table"===(null==(u=null==d?void 0:d.layerDefinition)?void 0:u.type)&&s.push(d)}),i=i.filter(d=>{var u;return"Table"!==(null==(u=null==d?void 0:d.layerDefinition)?void 0:u.type)})),i.reverse().forEach(d=>{const u=S(t,l,r,d);t.add(u)}),s.reverse().forEach(d=>{const u=S(t,l,r,d);t.tables.add(u)})}function S(t,l,r,i){const s=new l({portalItem:t.portalItem.clone(),layerId:i.id,sublayerTitleMode:"service-name"});if("Feature Collection"===t.portalItem.type){const d={origin:"portal-item",portal:t.portalItem.portal||a.Z.getDefault()};s.read(i,d);const u=r.showLegend;null!=u&&s.read({showLegend:u},d)}return s}function P(t,l){if(!1===t.supportsData)return Promise.resolve(void 0);const r=t.instance;return r.portalItem.fetchData("json",l).catch(()=>null).then(function(){var i=(0,o.Z)(function*(s){if(function R(t){return"stream"!==t.type&&"layerId"in t}(r)){let d,u=!0;return s&&c(s)>0&&(null==r.layerId&&(r.layerId=T(s)),d=function F(t,l){const r=t.layers;if(r)for(let s=0;s<r.length;s++)if(r[s].id===l)return r[s];const i=t.tables;if(i)for(let s=0;s<i.length;s++)if(i[s].id===l)return i[s];return null}(s,r.layerId),d&&(1===c(s)&&(u=!1),null!=s.showLegend&&(d.showLegend=s.showLegend))),u&&"service-name"!==r.sublayerTitleMode&&(r.sublayerTitleMode="item-title-and-service-name"),d}return s});return function(s){return i.apply(this,arguments)}}())}function M(t,l){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)(function*(t,l){if(null==(null==t?void 0:t.layers)||null==(null==t?void 0:t.tables)){const r=yield(0,I.b)(l);(t=t||{}).layers=t.layers||(null==r?void 0:r.layers),t.tables=t.tables||(null==r?void 0:r.tables)}return t})).apply(this,arguments)}function T(t){const l=t.layers;if(l&&l.length)return l[0].id;const r=t.tables;return r&&r.length?r[0].id:null}function c(t){var l,r,i,s;return(null!=(r=null==(l=null==t?void 0:t.layers)?void 0:l.length)?r:0)+(null!=(s=null==(i=null==t?void 0:t.tables)?void 0:i.length)?s:0)}},45205:(g,m,e)=>{e.d(m,{b:()=>n});var o=e(15861),f=e(84792);function n(y){return a.apply(this,arguments)}function a(){return(a=(0,o.Z)(function*(y){const{data:L}=yield(0,f.default)(y,{responseType:"json",query:{f:"json"}});return L})).apply(this,arguments)}}}]);
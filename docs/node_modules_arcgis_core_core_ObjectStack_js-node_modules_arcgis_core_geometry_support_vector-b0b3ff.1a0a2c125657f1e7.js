"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([["node_modules_arcgis_core_core_ObjectStack_js-node_modules_arcgis_core_geometry_support_vector-b0b3ff"],{550:(D,E,s)=>{function u(){return[1,0,0,0,1,0,0,0,1]}function y(h,n){return new Float64Array(h,n,9)}s.d(E,{a:()=>y,c:()=>u}),Object.freeze(Object.defineProperty({__proto__:null,create:u,clone:function g(h){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8]]},fromValues:function f(h,n,p,c,P,V,F,A,S){return[h,n,p,c,P,V,F,A,S]},createView:y},Symbol.toStringTag,{value:"Module"}))},43703:(D,E,s)=>{function u(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function g(n){return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]}function y(n,p){return new Float64Array(n,p,16)}s.d(E,{I:()=>d,a:()=>y,b:()=>g,c:()=>u});const d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:u,clone:g,fromValues:function f(n,p,c,P,V,F,A,S,B,j,Y,l,C,M,z,W){return[n,p,c,P,V,F,A,S,B,j,Y,l,C,M,z,W]},createView:y,IDENTITY:d},Symbol.toStringTag,{value:"Module"}))},78451:(D,E,s)=>{function u(){return[0,0,0,1]}function g(n){return[n[0],n[1],n[2],n[3]]}function y(n,p){return new Float64Array(n,p,4)}s.d(E,{I:()=>d,a:()=>u,b:()=>g,c:()=>y});const d=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:u,clone:g,fromValues:function f(n,p,c,P){return[n,p,c,P]},createView:y,IDENTITY:d},Symbol.toStringTag,{value:"Module"}))},97535:(D,E,s)=>{s.d(E,{x:()=>g});var u=s(79682);class g{constructor(d){this.allocator=d,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,u.Y)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const d=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*f);this._items.length=Math.min(d,this._items.length),this._itemsPtr=0}_grow(){for(let d=0;d<Math.max(8,Math.min(this._items.length,f));d++)this._items.push(this.allocator())}}const f=1024},26242:(D,E,s)=>{s.d(E,{MP:()=>B,WM:()=>F});var u=s(27306),g=s(79682),f=s(550),y=s(43703),d=s(78451),h=s(99770),n=s(28093),p=s(4794);class c{constructor(l,C,M){this.itemByteSize=l,this.itemCreate=C,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(M/this.itemByteSize)}get(){0===this._itemsPtr&&(0,g.Y)(()=>this._reset());const l=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=l;){const C=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let M=0;M<this._itemsPerBuffer;++M)this._items.push(this.itemCreate(C,M*this.itemByteSize));this._buffers.push(C)}return this._items[this._itemsPtr++]}_reset(){const l=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>l;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(l=P){return new c(16,h.c,l)}static createVec3f64(l=P){return new c(24,n.b,l)}static createVec4f64(l=P){return new c(32,p.a,l)}static createMat3f64(l=P){return new c(72,f.a,l)}static createMat4f64(l=P){return new c(128,y.a,l)}static createQuatf64(l=P){return new c(32,d.c,l)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const P=4*u.Y8.KILOBYTES,F=(c.createVec2f64(),c.createVec3f64()),B=(c.createVec4f64(),c.createMat3f64(),c.createMat4f64());c.createQuatf64()},83320:(D,E,s)=>{s.r(E),s.d(E,{destroyContext:()=>yt,dracoDecompressPointCloudData:()=>W,filterObbsForModifications:()=>ht,filterObbsForModificationsSync:()=>rt,initialize:()=>N,interpretObbModificationResults:()=>_t,process:()=>M,setLegacySchema:()=>mt,setModifications:()=>dt,setModificationsSync:()=>et,test:()=>bt});var y,d,t,u=s(15861),g=s(62208),f=s(55713);(t=y||(y={}))[t.None=0]="None",t[t.Int16=1]="Int16",t[t.Int32=2]="Int32",function(t){t[t.Replace=0]="Replace",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Finished=3]="Finished"}(d||(d={}));var h=s(54346);function p(t){return(0,h.V)(`esri/libs/i3s/${t}`)}let c;var A,S,B,j,Y;function M(t){return z.apply(this,arguments)}function z(){return z=(0,u.Z)(function*(t){yield N();const r=[t.geometryBuffer];return{result:nt(t,r),transferList:r}}),z.apply(this,arguments)}function W(t){return Z.apply(this,arguments)}function Z(){return Z=(0,u.Z)(function*(t){var k;yield N();const r=[t.geometryBuffer],{geometryBuffer:i}=t,b=i.byteLength,m=a._malloc(b),w=new Uint8Array(a.HEAPU8.buffer,m,b);w.set(new Uint8Array(i));const _=a.dracoDecompressPointCloudData(m,w.byteLength);if(a._free(m),_.error.length>0)throw`i3s.wasm: ${_.error}`;const U=(null==(k=_.featureIds)?void 0:k.length)>0?(0,f.tP)(_.featureIds):null,T=(0,f.tP)(_.positions);return U&&r.push(U.buffer),r.push(T.buffer),{result:{positions:T,featureIds:U},transferList:r}}),Z.apply(this,arguments)}function ht(t){return G.apply(this,arguments)}function G(){return G=(0,u.Z)(function*(t){yield N(),rt(t);const r={buffer:t.buffer};return{result:r,transferList:[r.buffer]}}),G.apply(this,arguments)}function dt(t){return $.apply(this,arguments)}function $(){return $=(0,u.Z)(function*(t){yield N(),et(t)}),$.apply(this,arguments)}function mt(t){return K.apply(this,arguments)}function K(){return K=(0,u.Z)(function*(t){yield N(),a.setLegacySchema(t.context,t.jsonSchema)}),K.apply(this,arguments)}function yt(t){st(t)}let H,a;function et(t){const r=t.modifications,i=a._malloc(8*r.length),b=new Float64Array(a.HEAPU8.buffer,i,r.length);for(let m=0;m<r.length;++m)b[m]=r[m];a.setModifications(t.context,i,r.length,t.isGeodetic),a._free(i)}function nt(t,r){if(!a)return null;const{context:i,localOrigin:b,globalTrafo:m,mbs:w,obb:_,elevationOffset:U,geometryBuffer:T,geometryDescriptor:k,indexToVertexProjector:Q,vertexToRenderProjector:gt}=t,J=a._malloc(T.byteLength),X=a._malloc(33*Float64Array.BYTES_PER_ELEMENT),ot=new Uint8Array(a.HEAPU8.buffer,J,T.byteLength);ot.set(new Uint8Array(T));const v=new Float64Array(a.HEAPU8.buffer,X,33);R(v,b);let L=v.byteOffset+3*v.BYTES_PER_ELEMENT,I=new Float64Array(v.buffer,L);R(I,m),L+=16*v.BYTES_PER_ELEMENT,I=new Float64Array(v.buffer,L),R(I,w),L+=4*v.BYTES_PER_ELEMENT,(0,g.pC)(_)&&(I=new Float64Array(v.buffer,L),R(I,_.center),L+=3*v.BYTES_PER_ELEMENT,I=new Float64Array(v.buffer,L),R(I,_.halfSize),L+=3*v.BYTES_PER_ELEMENT,I=new Float64Array(v.buffer,L),R(I,_.quaternion));const at=k,pt={isDraco:!1,isLegacy:!1,color:t.layouts.some(x=>x.some(O=>"color"===O.name)),normal:t.needNormals&&t.layouts.some(x=>x.some(O=>"normalCompressed"===O.name)),uv0:t.layouts.some(x=>x.some(O=>"uv0"===O.name)),uvRegion:t.layouts.some(x=>x.some(O=>"uvRegion"===O.name)),featureIndex:at.featureIndex},o=a.process(i,!!t.obb,J,ot.byteLength,at,pt,X,U,Q,gt,t.normalReferenceFrame);if(a._free(X),a._free(J),o.error.length>0)throw`i3s.wasm: ${o.error}`;if(o.discarded)return null;const q=o.componentOffsets.length>0?(0,f.tP)(o.componentOffsets):null,tt=o.featureIds.length>0?(0,f.tP)(o.featureIds):null,ct=(0,f.tP)(o.interleavedVertedData).buffer,ft=(0,f.tP)(o.indicesType===y.Int16?new Uint16Array(o.indices.buffer,o.indices.byteOffset,o.indices.byteLength/2):new Uint32Array(o.indices.buffer,o.indices.byteOffset,o.indices.byteLength/4)),ut=(0,f.tP)(o.positions),lt=(0,f.tP)(o.positionIndicesType===y.Int16?new Uint16Array(o.positionIndices.buffer,o.positionIndices.byteOffset,o.positionIndices.byteLength/2):new Uint32Array(o.positionIndices.buffer,o.positionIndices.byteOffset,o.positionIndices.byteLength/4)),Pt={layout:t.layouts[0],interleavedVertexData:ct,indices:ft,hasColors:o.hasColors,hasModifications:o.hasModifications,positionData:{data:ut,indices:lt}};return tt&&r.push(tt.buffer),q&&r.push(q.buffer),r.push(ct),r.push(ft.buffer),r.push(ut.buffer),r.push(lt.buffer),{componentOffsets:q,featureIds:tt,transformedGeometry:Pt,obb:o.obb}}function _t(t){return 0===t?S.Unmodified:1===t?S.PotentiallyModified:2===t?S.Culled:S.Unknown}function rt(t){const{context:r,buffer:i}=t,b=a._malloc(i.byteLength),m=i.byteLength/Float64Array.BYTES_PER_ELEMENT,w=new Float64Array(a.HEAPU8.buffer,b,m),_=new Float64Array(i);w.set(_),a.filterOBBs(r,b,m),_.set(w),a._free(b)}function st(t){a&&a.destroy(t)}function R(t,r){for(let i=0;i<r.length;++i)t[i]=r[i]}function N(){return a?Promise.resolve():(H||(H=function n(){return c||(c=new Promise(t=>s.e("node_modules_arcgis_core_chunks_i3s_js").then(s.bind(s,85979)).then(r=>r.i).then(({default:r})=>{const i=r({locateFile:p,onRuntimeInitialized:()=>t(i)});delete i.then})).catch(t=>{throw t})),c}().then(t=>{a=t,H=null})),H)}s(2071),function(t){t[t.Unmodified=0]="Unmodified",t[t.Culled=1]="Culled",t[t.NotChecked=2]="NotChecked"}(A||(A={})),function(t){t[t.Unmodified=0]="Unmodified",t[t.PotentiallyModified=1]="PotentiallyModified",t[t.Culled=2]="Culled",t[t.Unknown=3]="Unknown",t[t.NotChecked=4]="NotChecked"}(S||(S={})),function(t){t[t.Unknown=0]="Unknown",t[t.Uncached=1]="Uncached",t[t.Cached=2]="Cached"}(B||(B={})),function(t){t[t.None=0]="None",t[t.MaxScreenThreshold=1]="MaxScreenThreshold",t[t.ScreenSpaceRelative=2]="ScreenSpaceRelative",t[t.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",t[t.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(j||(j={})),function(t){t[t.Hole=0]="Hole",t[t.Leaf=1]="Leaf"}(Y||(Y={}));const bt={transform:nt,destroy:st}}}]);